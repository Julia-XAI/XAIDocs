var documenterSearchIndex = {"docs":
[{"location":"api/#API-reference","page":"API Reference","title":"API reference","text":"","category":"section"},{"location":"api/#Using-analyzers","page":"API Reference","title":"Using analyzers","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Most methods in the Julia-XAI ecosystem work by calling analyze on an input and an analyzer:","category":"page"},{"location":"api/#XAIBase.analyze","page":"API Reference","title":"XAIBase.analyze","text":"analyze(input, method)\nanalyze(input, method, output_selection)\n\nApply the analyzer method for the given input, returning an Explanation. If output_selection is specified, the explanation will be calculated for that output. Otherwise, the output with the highest activation is automatically chosen.\n\nSee also Explanation.\n\n\n\n\n\n","category":"function"},{"location":"api/","page":"API Reference","title":"API Reference","text":"The return type of analyze is an Explanation:","category":"page"},{"location":"api/#XAIBase.Explanation","page":"API Reference","title":"XAIBase.Explanation","text":"Explanation(val, output, output_selection, analyzer, heatmap, extras)\n\nReturn type of analyzers when calling analyze.\n\nFields\n\nval: numerical output of the analyzer, e.g. an attribution or gradient\noutput: model output for the given analyzer input\noutput_selection: index of the output used for the explanation\nanalyzer: symbol corresponding the used analyzer, e.g. :Gradient or :LRP\nheatmap: symbol indicating a preset heatmapping style,   e.g. :attribution, :sensitivity or :cam\nextras: optional named tuple that can be used by analyzers   to return additional information.\n\n\n\n\n\n","category":"type"},{"location":"api/#Visualizing-explanations","page":"API Reference","title":"Visualizing explanations","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Explanations can be visualized using heatmap:","category":"page"},{"location":"api/#VisionHeatmaps.heatmap","page":"API Reference","title":"VisionHeatmaps.heatmap","text":"heatmap(x::AbstractArray)\nheatmap(x::AbstractArray, pipeline)\nheatmap(x::AbstractArray, image)\nheatmap(x::AbstractArray, image, pipeline)\n\nVisualize 4D arrays as heatmaps, assuming the WHCN convention for input array dimensions (width, height, color channels, batch dimension).\n\n\n\n\n\nheatmap(expl::Explanation)\nheatmap(expl::Explanation, pipeline)\nheatmap(expl::Explanation, image)   \nheatmap(expl::Explanation, image, pipeline)\n\nVisualize Explanation from XAIBase as a vision heatmap. Assumes WHCN convention (width, height, channels, batch dimension) for explanation.val. This will use the default heatmapping style for the given type of explanation.\n\n\n\n\n\nheatmap(input::AbstractArray, analyzer::AbstractXAIMethod)\nheatmap(input::AbstractArray, analyzer::AbstractXAIMethod, image)\n\nCompute an Explanation for a given input using the XAI method analyzer and visualize it as a vision heatmap. This will use the default heatmapping style for the given type of explanation.\n\n\n\n\n\n","category":"function"},{"location":"api/#TextHeatmaps.heatmap","page":"API Reference","title":"TextHeatmaps.heatmap","text":"heatmap(values::AbstractArray, words)\n\nCreate a heatmap of words where the background color of each word is determined by its corresponding value. Arguments values and words (and optionally colors) must have the same size.\n\nKeyword arguments\n\ncolorscheme::Union{ColorScheme,Symbol}: color scheme from ColorSchemes.jl. Defaults to ColorSchemes.seismic.\nrangescale::Symbol: selects how the color channel reduced heatmap is normalized before the color scheme is applied. Can be either :extrema or :centered. Defaults to :centered for use with the default color scheme seismic.\n\n\n\n\n\nheatmap(expl::Explanation, text)\n\nVisualize Explanation from XAIBase as text heatmap. Text should be a vector containing vectors of strings, one for each input in the batched explanation.\n\nThis will use the default heatmapping style for the given type of explanation. Defaults can be overridden via keyword arguments.\n\n\n\n\n\n","category":"function"},{"location":"api/#Index","page":"API Reference","title":"Index","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"","category":"page"},{"location":"generated/example/#docs-getting-started","page":"Getting Started","title":"Using Analyzers","text":"","category":"section"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"For this first example, we loaded a pre-trained LeNet5 model to look at explanations on the MNIST dataset.","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"Note that most of the methods in the Julia-XAI ecosystem are not limited to Flux.jl models.","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"using ExplainableAI\nusing RelevancePropagation\nusing Zygote\nusing Flux\n\nusing BSON # hide\nmodel = BSON.load(\"../model.bson\", @__MODULE__)[:model] # load pre-trained LeNet-5 model","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"note: Loading XAI methods\nCurrently, the following methods are available in the Julia-XAI ecosystem:ExplainableAI.jl – applicable on any differentiable classifier\nGradient\nInputTimesGradient\nSmoothGrad\nIntegratedGradients\nGradCAM\nRelevancePropagation.jl – applicable on Flux.jl models\nLRP\nCRPFor a complete list of available methods, refer to the individual package documentations.","category":"page"},{"location":"generated/example/#Preparing-the-input-data","page":"Getting Started","title":"Preparing the input data","text":"","category":"section"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"We use MLDatasets to load a single image from the MNIST dataset:","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"using MLDatasets\nusing ImageCore, ImageIO, ImageShow\n\nindex = 10\nx, y = MNIST(Float32, :test)[10]\n\nconvert2image(MNIST, x)","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"By convention in Flux.jl, this input needs to be resized to WHCN format by adding a color channel and batch dimensions.","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"input = reshape(x, 28, 28, 1, :);\nnothing #hide","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"note: Input format\nFor any explanation of a model, Julia-XAI methods assume the batch dimension to come last in the input.For vision models, the input is assumed to be in WHCN order (width, height, channels, batch dimension), which matches Flux.jl's convention.","category":"page"},{"location":"generated/example/#Explanations","page":"Getting Started","title":"Explanations","text":"","category":"section"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"We can now select an analyzer of our choice and call analyze to get an Explanation. Here, we use the LRP method from RelevancePropagation.jl:","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"analyzer = LRP(model)\nexpl = analyze(input, analyzer);\nnothing #hide","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"The return value expl is of type Explanation and bundles the following data:","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"expl.val: numerical output of the analyzer, e.g. an attribution or gradient\nexpl.output: model output for the given analyzer input\nexpl.output_selection: index of the output used for the explanation\nexpl.analyzer: symbol corresponding the used analyzer, e.g. :Gradient or :LRP\nexpl.heatmap: symbol indicating a preset heatmapping style,   e.g. :attribution, :sensitivity or :cam\nexpl.extras: optional named tuple that can be used by analyzers   to return additional information.","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"We used an LRP analyzer, so expl.analyzer is :LRP.","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"expl.analyzer","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"Which by default uses the :attribution preset for heatmapping:","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"expl.heatmap","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"By default, the explanation is computed for the maximally activated output. Since our digit is a 9 and Julia's indexing is 1-based, the output at index 10 of our trained model is maximally activated.","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"Finally, we obtain the result of the analyzer in form of an array.","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"expl.val","category":"page"},{"location":"generated/example/#Heatmapping-basics","page":"Getting Started","title":"Heatmapping basics","text":"","category":"section"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"Since the array expl.val is not very informative at first sight, we can visualize Explanations by computing a heatmap using either VisionHeatmaps.jl or TextHeatmaps.jl.","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"using VisionHeatmaps\n\nheatmap(expl)","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"By default, to support batched explanations, a vector of heatmaps is returned. Since the following examples don't use batches, we will use the only function to unpack singleton heatmaps:","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"heatmap(expl) |> only","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"If we are only interested in the heatmap, we can combine analysis and heatmapping into a single function call:","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"heatmap(input, analyzer) |> only","category":"page"},{"location":"generated/example/#Output-selection","page":"Getting Started","title":"Output selection","text":"","category":"section"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"By passing an additional index to our call to analyze, we can compute an explanation with respect to a specific output index. Let's see why the output wasn't interpreted as a 4 (output at index 5)","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"expl = analyze(input, analyzer, 5)\nheatmap(expl) |> only","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"This heatmap shows us that the \"upper loop\" of the hand-drawn 9 has negative relevance with respect to the output corresponding to digit 4!","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"The output index can also be specified when calling heatmap:","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"heatmap(input, analyzer, 5) |> only","category":"page"},{"location":"generated/example/#Analyzing-batches","page":"Getting Started","title":"Analyzing batches","text":"","category":"section"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"ExplainableAI also supports explanations of input batches:","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"batchsize = 20\nxs, _ = MNIST(Float32, :test)[1:batchsize]\nbatch = reshape(xs, 28, 28, 1, :) # reshape to WHCN format\nexpl = analyze(batch, analyzer);\nnothing #hide","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"This will return a single Explanation expl for the entire batch. Calling heatmap on expl will detect the batch dimension and return a vector of heatmaps.","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"heatmap(expl)","category":"page"},{"location":"generated/example/#Heatmapping-presets","page":"Getting Started","title":"Heatmapping presets","text":"","category":"section"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"The function heatmap automatically applies common presets for each method. Since LRP computes attributions, previous heatmaps were shown in a divergent blue-black-red color scheme. Methods based on input sensitivities like SmoothGrad however are typically shown in a sequential color scheme:","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"analyzer = SmoothGrad(model)\nheatmap(input, analyzer) |> only","category":"page"},{"location":"generated/example/#Custom-heatmaps","page":"Getting Started","title":"Custom heatmaps","text":"","category":"section"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"tip: Check out the VisionHeatmaps.jl documentation\nUsing VisionHeatmaps.jl, heatmaps can be heavily customized. Check out the heatmapping documentation for more information.","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"","category":"page"},{"location":"generated/example/","page":"Getting Started","title":"Getting Started","text":"This page was generated using Literate.jl.","category":"page"},{"location":"#Explainable-AI-in-Julia","page":"Home","title":"Explainable AI in Julia","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The Julia-XAI ecosystem hosts Explainable AI (XAI)  methods written in the Julia programming language, with a focus on post-hoc, local input-space explanations of black-box models. In simpler terms, methods that try to answer the question  \"Which part of the input is responsible for the model's output?\".","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: Julia-XAI organization)","category":"page"},{"location":"","page":"Home","title":"Home","text":"The ecosystem is organized into several packages. As a user, you only need to install the packages that implement the methods you want to use.","category":"page"},{"location":"","page":"Home","title":"Home","text":"As a developer, you can make use of the XAIBase.jl interface to quickly implement or prototype new methods without having to write boilerplate code.","category":"page"},{"location":"#New-Users","page":"Home","title":"New Users","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Our recommended starting point into the Julia-XAI ecosystem is the  Getting Started guide.","category":"page"},{"location":"#New-Developers","page":"Home","title":"New Developers","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"If you want to implement an XAI method, take a look at the common interface defined in XAIBase.jl.","category":"page"},{"location":"#Contributing","page":"Home","title":"Contributing","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"We welcome all contributions to the Julia-XAI ecosystem! Please contact us if you want your package to be included in this organization.","category":"page"}]
}
